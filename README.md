archivematica-omekas
================

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Demonstration

デモンストレーション

<https://colab.research.google.com/github/nakamura196/archivematica-omekas/blob/main/demo.ipynb>

## Install

インストール

``` sh
pip install archivematica_omekas
```

## Configuration

設定

### Archivematica

``` python
dip_zip_file_path = "data/sample/ex02-1-TIFF-007c28cc-4671-4d5d-be2a-facace4c7b84.zip"
mapping_json_file_path="data/sample/mapping.json"
```

### Omeka

``` python
API_URL="https://omekas.aws.ldas.jp/sandbox/api"
KEY_IDENTITY="2st7sDKL2UAL8OKtfah8ffZS5UjefA7g"
KEY_CREDENTIAL="M4s6xyqkzbxgJZieQfsMysVUqzdC6ZPl"
```

## Run

実行

``` python
output_dir = ArchiveMaticaOmeka.convert(dip_zip_file_path, mapping_json_file_path, task_id="test")
```

``` python
metadata_csv_path = f"{output_dir}/metadata.csv"
media_csv_path = f"{output_dir}/media.csv"
ArchiveMaticaOmeka.upload(metadata_csv_path, media_csv_path, API_URL, KEY_IDENTITY, KEY_CREDENTIAL)
```

    アイテムの登録

    100%|██████████| 4/4 [00:26<00:00,  6.60s/it]


    IDの取得

    100%|██████████| 4/4 [00:01<00:00,  2.35it/s]


    メディアの登録

    100%|██████████| 4/4 [00:33<00:00,  8.49s/it]

Please confirm that the items were registered from the following URL.

以下のURLから、アイテムが登録されていることをご確認ください。

``` python
url = f"{API_URL.replace('/api', '')}"
url
```

    'https://omekas.aws.ldas.jp/sandbox'
