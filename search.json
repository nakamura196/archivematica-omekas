[
  {
    "objectID": "demo.html#install",
    "href": "demo.html#install",
    "title": "Demonstration of archivematica-omekas",
    "section": "Install",
    "text": "Install\nインストール\n\n!pip install archivematica_omekas\n\nLooking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/\nCollecting archivematica_omekas\n  Downloading archivematica_omekas-0.0.1-py3-none-any.whl (11 kB)\nRequirement already satisfied: bs4 in /usr/local/lib/python3.7/dist-packages (from archivematica_omekas) (0.0.1)\nCollecting omeka-s-tools2\n  Downloading omeka_s_tools2-0.0.4-py3-none-any.whl (15 kB)\nRequirement already satisfied: pandas in /usr/local/lib/python3.7/dist-packages (from archivematica_omekas) (1.3.5)\nRequirement already satisfied: tqdm in /usr/local/lib/python3.7/dist-packages (from archivematica_omekas) (4.64.1)\nRequirement already satisfied: fastcore in /usr/local/lib/python3.7/dist-packages (from archivematica_omekas) (1.5.27)\nRequirement already satisfied: beautifulsoup4 in /usr/local/lib/python3.7/dist-packages (from bs4->archivematica_omekas) (4.6.3)\nRequirement already satisfied: pip in /usr/local/lib/python3.7/dist-packages (from fastcore->archivematica_omekas) (21.1.3)\nRequirement already satisfied: packaging in /usr/local/lib/python3.7/dist-packages (from fastcore->archivematica_omekas) (21.3)\nRequirement already satisfied: requests in /usr/local/lib/python3.7/dist-packages (from omeka-s-tools2->archivematica_omekas) (2.23.0)\nCollecting requests-cache\n  Downloading requests_cache-0.9.7-py3-none-any.whl (48 kB)\n     |████████████████████████████████| 48 kB 2.7 MB/s \nRequirement already satisfied: pytest in /usr/local/lib/python3.7/dist-packages (from omeka-s-tools2->archivematica_omekas) (3.6.4)\nRequirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in /usr/local/lib/python3.7/dist-packages (from packaging->fastcore->archivematica_omekas) (3.0.9)\nRequirement already satisfied: pytz>=2017.3 in /usr/local/lib/python3.7/dist-packages (from pandas->archivematica_omekas) (2022.5)\nRequirement already satisfied: python-dateutil>=2.7.3 in /usr/local/lib/python3.7/dist-packages (from pandas->archivematica_omekas) (2.8.2)\nRequirement already satisfied: numpy>=1.17.3 in /usr/local/lib/python3.7/dist-packages (from pandas->archivematica_omekas) (1.21.6)\nRequirement already satisfied: six>=1.5 in /usr/local/lib/python3.7/dist-packages (from python-dateutil>=2.7.3->pandas->archivematica_omekas) (1.15.0)\nRequirement already satisfied: pluggy<0.8,>=0.5 in /usr/local/lib/python3.7/dist-packages (from pytest->omeka-s-tools2->archivematica_omekas) (0.7.1)\nRequirement already satisfied: setuptools in /usr/local/lib/python3.7/dist-packages (from pytest->omeka-s-tools2->archivematica_omekas) (57.4.0)\nRequirement already satisfied: more-itertools>=4.0.0 in /usr/local/lib/python3.7/dist-packages (from pytest->omeka-s-tools2->archivematica_omekas) (9.0.0)\nRequirement already satisfied: atomicwrites>=1.0 in /usr/local/lib/python3.7/dist-packages (from pytest->omeka-s-tools2->archivematica_omekas) (1.4.1)\nRequirement already satisfied: attrs>=17.4.0 in /usr/local/lib/python3.7/dist-packages (from pytest->omeka-s-tools2->archivematica_omekas) (22.1.0)\nRequirement already satisfied: py>=1.5.0 in /usr/local/lib/python3.7/dist-packages (from pytest->omeka-s-tools2->archivematica_omekas) (1.11.0)\nRequirement already satisfied: idna<3,>=2.5 in /usr/local/lib/python3.7/dist-packages (from requests->omeka-s-tools2->archivematica_omekas) (2.10)\nRequirement already satisfied: chardet<4,>=3.0.2 in /usr/local/lib/python3.7/dist-packages (from requests->omeka-s-tools2->archivematica_omekas) (3.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.7/dist-packages (from requests->omeka-s-tools2->archivematica_omekas) (2022.9.24)\nRequirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in /usr/local/lib/python3.7/dist-packages (from requests->omeka-s-tools2->archivematica_omekas) (1.24.3)\nCollecting url-normalize>=1.4\n  Downloading url_normalize-1.4.3-py2.py3-none-any.whl (6.8 kB)\nCollecting cattrs>=22.2\n  Downloading cattrs-22.2.0-py3-none-any.whl (35 kB)\nCollecting urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1\n  Downloading urllib3-1.25.11-py2.py3-none-any.whl (127 kB)\n     |████████████████████████████████| 127 kB 54.8 MB/s \nRequirement already satisfied: appdirs>=1.4.4 in /usr/local/lib/python3.7/dist-packages (from requests-cache->omeka-s-tools2->archivematica_omekas) (1.4.4)\nCollecting exceptiongroup\n  Downloading exceptiongroup-1.0.1-py3-none-any.whl (12 kB)\nRequirement already satisfied: typing_extensions in /usr/local/lib/python3.7/dist-packages (from cattrs>=22.2->requests-cache->omeka-s-tools2->archivematica_omekas) (4.1.1)\nInstalling collected packages: urllib3, exceptiongroup, url-normalize, cattrs, requests-cache, omeka-s-tools2, archivematica-omekas\n  Attempting uninstall: urllib3\n    Found existing installation: urllib3 1.24.3\n    Uninstalling urllib3-1.24.3:\n      Successfully uninstalled urllib3-1.24.3\nSuccessfully installed archivematica-omekas-0.0.1 cattrs-22.2.0 exceptiongroup-1.0.1 omeka-s-tools2-0.0.4 requests-cache-0.9.7 url-normalize-1.4.3 urllib3-1.25.11"
  },
  {
    "objectID": "demo.html#data-download",
    "href": "demo.html#data-download",
    "title": "Demonstration of archivematica-omekas",
    "section": "Data download",
    "text": "Data download\nデータのダウンロード\n\n!git clone https://github.com/nakamura196/archivematica-omekas\n\nCloning into 'archivematica-omekas'...\nremote: Enumerating objects: 127, done.\nremote: Counting objects: 100% (127/127), done.\nremote: Compressing objects: 100% (107/107), done.\nremote: Total 127 (delta 26), reused 107 (delta 11), pack-reused 0\nReceiving objects: 100% (127/127), 19.16 MiB | 50.04 MiB/s, done.\nResolving deltas: 100% (26/26), done."
  },
  {
    "objectID": "demo.html#configuration",
    "href": "demo.html#configuration",
    "title": "Demonstration of archivematica-omekas",
    "section": "Configuration",
    "text": "Configuration\n設定\n\nArchivematica\n\ndip_zip_file_path = \"archivematica-omekas/data/sample/ex02-1-TIFF-007c28cc-4671-4d5d-be2a-facace4c7b84.zip\"\nmapping_json_file_path=\"archivematica-omekas/data/sample/mapping.json\"\n\n\n\nOmeka\n\nAPI_URL=\"https://omekas.aws.ldas.jp/sandbox/api\"\nKEY_IDENTITY=\"2st7sDKL2UAL8OKtfah8ffZS5UjefA7g\"\nKEY_CREDENTIAL=\"M4s6xyqkzbxgJZieQfsMysVUqzdC6ZPl\""
  },
  {
    "objectID": "demo.html#run",
    "href": "demo.html#run",
    "title": "Demonstration of archivematica-omekas",
    "section": "Run",
    "text": "Run\n実行\n\nfrom archivematica_omekas.api import *\n\n\noutput_dir = ArchiveMaticaOmeka.convert(dip_zip_file_path, mapping_json_file_path, task_id=\"test\")\n\n\nmetadata_csv_path = f\"{output_dir}/metadata.csv\"\nmedia_csv_path = f\"{output_dir}/media.csv\"\nArchiveMaticaOmeka.upload(metadata_csv_path, media_csv_path, API_URL, KEY_IDENTITY, KEY_CREDENTIAL)\n\nアイテムの登録\n\n\n100%|██████████| 4/4 [00:05<00:00,  1.50s/it]\n\n\n\nIDの取得\n\n\n\n100%|██████████| 4/4 [00:00<00:00,  7.22it/s]\n\n\n\nメディアの登録\n\n\n\n100%|██████████| 4/4 [00:24<00:00,  6.14s/it]\n\n\nPlease confirm that the items were registered from the following URL.\n以下のURLから、アイテムが登録されていることをご確認ください。\n\nurl = f\"{API_URL.replace('/api', '')}\"\nurl\n\n'https://omekas.aws.ldas.jp/sandbox'"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "archivematica-omekas",
    "section": "",
    "text": "デモンストレーション\nhttps://colab.research.google.com/github/nakamura196/archivematica-omekas/blob/main/demo.ipynb"
  },
  {
    "objectID": "index.html#install",
    "href": "index.html#install",
    "title": "archivematica-omekas",
    "section": "Install",
    "text": "Install\nインストール\npip install archivematica_omekas"
  },
  {
    "objectID": "index.html#configuration",
    "href": "index.html#configuration",
    "title": "archivematica-omekas",
    "section": "Configuration",
    "text": "Configuration\n設定\n\nArchivematica\n\ndip_zip_file_path = \"data/sample/ex02-1-TIFF-007c28cc-4671-4d5d-be2a-facace4c7b84.zip\"\nmapping_json_file_path=\"data/sample/mapping.json\"\n\n\n\nOmeka\n\nAPI_URL=\"https://omekas.aws.ldas.jp/sandbox/api\"\nKEY_IDENTITY=\"2st7sDKL2UAL8OKtfah8ffZS5UjefA7g\"\nKEY_CREDENTIAL=\"M4s6xyqkzbxgJZieQfsMysVUqzdC6ZPl\""
  },
  {
    "objectID": "index.html#run",
    "href": "index.html#run",
    "title": "archivematica-omekas",
    "section": "Run",
    "text": "Run\n実行\n\noutput_dir = ArchiveMaticaOmeka.convert(dip_zip_file_path, mapping_json_file_path, task_id=\"test\")\n\n\nmetadata_csv_path = f\"{output_dir}/metadata.csv\"\nmedia_csv_path = f\"{output_dir}/media.csv\"\nArchiveMaticaOmeka.upload(metadata_csv_path, media_csv_path, API_URL, KEY_IDENTITY, KEY_CREDENTIAL)\n\nアイテムの登録\n\n\n100%|██████████| 4/4 [00:26<00:00,  6.60s/it]\n\n\n\nIDの取得\n\n\n\n100%|██████████| 4/4 [00:01<00:00,  2.35it/s]\n\n\n\nメディアの登録\n\n\n\n100%|██████████| 4/4 [00:33<00:00,  8.49s/it]\n\n\nPlease confirm that the items were registered from the following URL.\n以下のURLから、アイテムが登録されていることをご確認ください。\n\nurl = f\"{API_URL.replace('/api', '')}\"\nurl\n\n'https://omekas.aws.ldas.jp/sandbox'"
  },
  {
    "objectID": "api.html",
    "href": "api.html",
    "title": "Archivematica and Omeka S",
    "section": "",
    "text": "source\n\nArchiveMaticaOmeka\n\n ArchiveMaticaOmeka (dip_zip_file_path, mapping_json_file_path,\n                     task_id='test', debug=False)\n\nInitialize self. See help(type(self)) for accurate signature.\n\nsource\n\n\nOmekaClient\n\n OmekaClient (API_URL, KEY_IDENTITY, KEY_CREDENTIAL)\n\nInitialize self. See help(type(self)) for accurate signature.\n\nsource\n\n\nArchiveMaticaOmeka.convert\n\n ArchiveMaticaOmeka.convert (dip_zip_file_path, mapping_json_file_path,\n                             task_id='bcd')\n\nConvert DIP to Omeka format\nOmekaへの登録用のフォーマットに変換\nParameters: * dip_zip_file_path - path to a dip zip file exported from Archivematica (str or pathlib Path)\n* mapping_json_file_path - path to a mappin file between Archivematica and Omeka (str or pathlib Path)\n* task_id - (Optional) Task ID (str)\n\ndip_zip_file_path = \"data/sample/ex02-1-TIFF-007c28cc-4671-4d5d-be2a-facace4c7b84.zip\"\nmapping_json_file_path=\"data/sample/mapping.json\"\noutput_dir = ArchiveMaticaOmeka.convert(dip_zip_file_path, mapping_json_file_path, task_id=\"bcd\")\n\n\nsource\n\n\nArchiveMaticaOmeka.upload\n\n ArchiveMaticaOmeka.upload (metadata_csv_path, media_csv_path, API_URL,\n                            KEY_IDENTITY, KEY_CREDENTIAL, is_public=True)\n\n\nAPI_URL = os.getenv(\"API_URL\")\nKEY_IDENTITY = os.getenv(\"KEY_IDENTITY\")\nKEY_CREDENTIAL = os.getenv(\"KEY_CREDENTIAL\")\n\n\nmetadata_csv_path = f\"{output_dir}/metadata.csv\"\nmedia_csv_path = f\"{output_dir}/media.csv\"\nArchiveMaticaOmeka.upload(metadata_csv_path, media_csv_path, API_URL, KEY_IDENTITY, KEY_CREDENTIAL)\n\nアイテムの登録\n\n\n100%|██████████| 4/4 [00:25<00:00,  6.36s/it]\n\n\n\nIDの取得\n\n\n\n100%|██████████| 4/4 [00:01<00:00,  2.75it/s]\n\n\n\nメディアの登録\n\n\n\n100%|██████████| 4/4 [00:34<00:00,  8.66s/it]"
  }
]